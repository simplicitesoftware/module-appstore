<template id="store-template">
	{{#versions}}
	<div class="alert alert-danger">
		<h1><i class="fas fa-fw fa-exclamation-triangle"></i> Version warning</h1>
		<p>Your version <b>{{local.version}}</b> <i>(released on {{local.date}})</i> is older than the <u>current</u> version <b>{{current.version}}</b> <i>(released on {{current.date}})</i>.<br/>
		See the <a href="https://docs.simplicite.io/{{major}}/releasenote/releasenote-{{minor}}.md#version-{{current.version}}" target="_blank">release note</a> for details.</p>
		<h3>You <b>should</b> consider upgrading.</h3>
	</div>
	{{/versions}}
	<div>
		<ul class="nav nav-tabs">
			{{#stores}}
			<li href="#" class="nav-item nav-link" data-tab="{{idx}}"><a href="#">{{name}}</a></li>
			{{/stores}}
		</ul>
		{{#stores}}
		<div id="store-tab{{idx}}" class="tabitem store-container">
		<div class="storegrid">
			{{#apps}}
				<div class="storegrid__item">
					<div class="storecard">
						{{#logo}}<img class="storecard__img" src="{{logo}}" alt="{{name}} logo">{{/logo}}
						<div class="storecard__content">
							<h1 class="storecard__header">{{name}}</h1>
							<p class="storecard__text">
								{{description}}
								{{#url}}<br/><a class="btn btn-sm btn-light" target="_blank" href="{{url}}">Read more</a>{{/url}}
							</p>
							
							{{#incompatible}}
							<div class="alert alert-info" role="alert">
								{{incompatible}}
							</div>
							{{/incompatible}}
							
							{{^incompatible}}
							<div class="storecard__buttoncontainer">
							{{#module_installed}}
								<button
									type="button" 
									class="btn btn-primary goto-module"
									data-module-id="{{module_installed}}">{{tsl_goto_module}}</button>
								<button 
									type="button" 
									class="btn btn-danger goto-delete"
									data-module-id="{{module_installed}}">{{tsl_goto_delete}}</button>
							{{/module_installed}}
							{{^module_installed}}
								<button 
									type="button" 
									class="btn btn-success install-module"
									data-module="{{module_name}}" 
									data-store-idx="{{store_idx}}">{{tsl_install_module}}</button>
							{{/module_installed}}
							</div>
							{{/incompatible}}
							
						</div>
					</div>
				</div>
				{{/apps}}
			</div>
		</div>
		{{/stores}}
	</div>
</template>
<div id="store"></div>